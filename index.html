
<!DOCTYPE html>
<html lang="ja">

<head>
    <title>Cocobana</title>
    <!-- meta -->
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta http-equiv="Content-Script-Type" content="text/javascript" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Custom Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;600&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Barlow:wght@500;600&display=swap" rel="stylesheet">
    <!-- Css -->
    <link rel="stylesheet" href="css/epi.css" type="text/css">
</head>

<body class="pattern">
<wrapper>
    
    <header>
        <div class="header-content">
            <h1>Coco<br>bana</h1>
            <p>自己紹介の一歩先をいくゲーム「ココバナ」</p>
        </div>
    </header>

    <section class="bg-primary" id="about">
        <div id="box">
            <div id="timer">01:00</div>
        </div>
        <div class="clearfix">
            <p1><img id="playcard" src="img/themecard.jpg" width=360px></p1>
            <div class="button">
                <button id="shuffle_btn" class="btn">シャッフルスタート</button>  
            </div>
        </div>
    </section>


<!-- jQuery -->
<script src="js/jquery.js"></script>




<script>/** JS：Area */
    $(document).ready(function(){
    
    var minnum = 1;
    var maxnum = 8;
    var cardnum = 0;
    var cardnumpre = 0;
        
    var spnum = 0;
    var sprate = 0.3;    
    var time = 60;
    var setI;
    var min;
    var sec;
    var halfindex = 1;
    
    //デモ用の手心変数定義
    var demodemo = 0;    
    
    
    //時間を半分にする変数定義
    var tpara = 1;    
    
    
    function startTimer() {
              time -= 1;
              min = Math.floor( time / 60 );
              sec = time % 60;
              min = ('00' + min).slice(-2);
              sec = ('00' + sec).slice(-2);
              $('#timer').html(min + ":" + sec);
              if (time === 0) {
                $('#timer').html("Time&nbspUP!");
                clearInterval(setI);
              }
            }
    
    function startInterval() {
        setI = setInterval(startTimer,1000);
    }
    
    
    //時計をリセット
    function resetTimer() {
            clearInterval(setI);
            time = 60;
            $('#start').prop('disabled',false);
            $('#timer').html("01:00");
        }
    
    
        
    $("#shuffle_btn").on("click",function(){
        cardnum = Math.floor( Math.random() * (maxnum) ) + minnum ;
        spnum = Math.random() ;
       
        resetTimer();
    
        //時間を半分にする変数の初期化
        tpara = 1;   
    
        while (cardnum === cardnumpre) {
            cardnum=Math.floor( Math.random() * (maxnum) ) + minnum ; 
        }
        
      if (spnum < sprate) {
            cardnum=Math.ceil(cardnum/3) ; 
          switch (cardnum){
                    case 1:
                        $('p1').html('<img src="img/spcard1.jpg"  width=360px>');
                    break;
                    case 2:
                        $('p1').html('<img src="img/spcard2.jpg"  width=360px>');
                    break;
                    case 3:
                        $('p1').html('<img src="img/spcard3.jpg"  width=360px>');
                    break;
                    default:
                        $('p1').html('<img src="img/spcard1.jpg"  width=360px>');
                } ;
        } 
        else {
                switch (cardnum){
                    case 1:
                        $('p1').html('<img src="img/card1.jpg"  width=360px>');
                    break;
                    case 2:
                        $('p1').html('<img src="img/card2.jpg"  width=360px>');
                    break;
                    case 3:
                        $('p1').html('<img src="img/card3.jpg"  width=360px>');
                    break;
                    case 4:
                        $('p1').html('<img src="img/card4.jpg"  width=360px>');
                    break;
                    case 5:
                        $('p1').html('<img src="img/card5.jpg"  width=360px>');
                    break;
                    case 6:
                        $('p1').html('<img src="img/card6.jpg"  width=360px>');
                    break;
                    case 7:
                        $('p1').html('<img src="img/card7.jpg"  width=360px>');
                    break;        
                    case 8:
                        $('p1').html('<img src="img/card8.jpg"  width=360px>');
                    break;
                    default:
                       $('p1').html('<img src="img/card8.jpg"  width=360px>');
                }        
              }
    
        cardnumpre=cardnum; 
        
        time=time*tpara;
    
       $('#start').prop('disabled',true);
       startInterval();
    });     
    });
    </script>
</wrapper>
</body>

</html>