
<!DOCTYPE html>
<html lang="ja">

<head>

    <title>Cocobana</title>
    <!-- Custom Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="css/epi.css" type="text/css">

</head>

<body id="page-top">

<!-- <header>
    <div class="header-content">
        <div class="header-content-inner">
            <h1>Cocobana</h1>
            <hr>
            <p>仲間と新しく出会う<br>そんな機会を少しでも盛り上げたくて、作ったゲームです。<br>ちょっと恥ずかしいこともあるかもしれない。<br>今まで誰にも言ってない秘密だってあるかもしれない。<br>でも、折角だしゲームのせいにして話しちゃいましょう</p>
        </div>
    </div>
</header> -->

<section class="bg-primary" id="about">
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 text-center">
                <!-- <h2>Episode Card</h2> -->
                <p1><img id="playcard" src="img/themecard.jpg" width=200px></p1>
                <div class="button">
                    <br>
                    <button id="shuffle_btn" class="btn btn-xl">Shuffle!</button>  
                </div>
            </div>
        </div>
    </div>
        <div id = "box">
        <div id ="timer">01:00</div>
    </div>
</section>


<!-- jQuery -->
<script src="js/jquery.js"></script>
<!-- <script src="js/jquery-2.1.3.min.js"></script> -->




<script>/** JS：Area */
$(document).ready(function(){

var minnum = 1;
var maxnum = 8;
var cardnum = 0;
var cardnumpre = 0;
    
var spnum = 0;
var sprate = 0.3;    
var time = 60;
var setI;
var min;
var sec;
var halfindex = 1;

//デモ用の手心変数定義
var demodemo = 0;    


//時間を半分にする変数定義
var tpara = 1;    


function startTimer() {
          time -= 1;
          min = Math.floor( time / 60 );
          sec = time % 60;
          min = ('00' + min).slice(-2);
          sec = ('00' + sec).slice(-2);
          $('#timer').html(min + ":" + sec);
          if (time === 0) {
            $('#timer').html("Time&nbspUP!");
            clearInterval(setI);
          }
        }

function startInterval() {
    setI = setInterval(startTimer,1000);
}


//時計をリセット
function resetTimer() {
        clearInterval(setI);
        time = 60;
        $('#start').prop('disabled',false);
        $('#timer').html("01:00");
    }


    
$("#shuffle_btn").on("click",function(){
    cardnum = Math.floor( Math.random() * (maxnum) ) + minnum ;
    spnum = Math.random() ;

    //デモ用の手心
    if(demodemo == 0){spnum=1} 
    else if(demodemo == 1){spnum=0}
    demodemo=demodemo+1;    

    resetTimer();

    //時間を半分にする変数の初期化
    tpara = 1;   



    while (cardnum === cardnumpre) {
        cardnum=Math.floor( Math.random() * (maxnum) ) + minnum ; 
    }
    
  if (spnum < sprate) {
      switch (cardnum){
                case 1:
                    $('p1').html('<img src="img/spcard1.jpg"  width=200px>');
                    // tpara = 0.5;  
                    // $('#timer').html("00:30");
                break;
                case 2:
                    $('p1').html('<img src="img/spcard2.jpg"  width=200px>');
                    // tpara = 0.5;
                    // $('#timer').html("00:30");
                break;
                case 3:
                    $('p1').html('<img src="img/spcard3.jpg"  width=200px>');
                break;
                case 4:
                    $('p1').html('<img src="img/spcard4.jpg"  width=200px>');
                break;
                case 5:
                    $('p1').html('<img src="img/spcard1.jpg"  width=200px>');
                    // tpara = 0.5;
                    // $('#timer').html("00:30");
                break;
                case 6:
                    $('p1').html('<img src="img/spcard2.jpg"  width=200px>');
                    // tpara = 0.5;
                    // $('#timer').html("00:30");
                break;
                case 7:
                    $('p1').html('<img src="img/spcard3.jpg"  width=200px>');
                break;        
                case 8:
                    $('p1').html('<img src="img/spcard4.jpg"  width=200px>');
                break;
                default:
                    $('p1').html('<img src="img/spcard4.jpg"  width=200px>');
            } ;
    } 
    else {
    
            switch (cardnum){
                case 1:
                    $('p1').html('<img src="img/card1.jpg"  width=200px>');
                break;
                case 2:
                    $('p1').html('<img src="img/card2.jpg"  width=200px>');
                break;
                case 3:
                    $('p1').html('<img src="img/card3.jpg"  width=200px>');
                break;
                case 4:
                    $('p1').html('<img src="img/card4.jpg"  width=200px>');
                break;
                case 5:
                    $('p1').html('<img src="img/card5.jpg"  width=200px>');
                break;
                case 6:
                    $('p1').html('<img src="img/card6.jpg"  width=200px>');
                break;
                case 7:
                    $('p1').html('<img src="img/card7.jpg"  width=200px>');
                break;        
                case 8:
                    $('p1').html('<img src="img/card8.jpg"  width=200px>');
                break;
                default:
                   $('p1').html('<img src="img/card8.jpg"  width=200px>');
            }        
          }

    cardnumpre=cardnum; 
    
    time=time*tpara;

   $('#start').prop('disabled',true);
   startInterval();
});     
});
</script>
</body>

</html>